package:
  name: "jpype"
  version: "dev"

source:
  path: ../../

build:
  python setup.py install --single-version-externally-managed --record record.txt

requirements:
  build:
    - numpy x.x
    - python
    - setuptools

  run:
    - numpy x.x
    - python

test:
  requires:
    - pytest
    - pytest-faulthandler
  files:
    - compile.py
  source_files:
    - test/*
    - setup.cfg

  imports:
    - jpype
  commands:
    - python compile.py --input_dir=test --output_dir=test/harness
    - pytest -vv test/jpypetest
